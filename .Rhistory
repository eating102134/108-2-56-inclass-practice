table(transcript100to103$`學屆`)
# 各學屆2年級成績大於85年數
str(transcript100to103)
pick_above85 <-transcript100to103$`成績`
table(transcript100to103$`學屆`[pick_above85])
table(transcript100to103$`學屆`[pick_above85])
# 各學屆2年級成績大於85年數
table(transcript100to103$`學屆`)
pick_above85 <-transcript100to103$`成績`
table(transcript100to103$`學屆`[pick_above85])
pick_above85 <-transcript100to103$`成績` >=85
table(transcript100to103$`學屆`[pick_above85])
# 各學屆2年級人數
table(transcript100to103$學屆)
# 各學屆2年級成績大於85人數
table(transcript100to103$學屆[pick_above85])
str(example)
above_98 <-example$birthday >= ymd("19980101")
library(lubridate)
above_98 <-example$birthday >= ymd("19980101")
example$birthday[above_98]
example$name[above_98]
str(example)
library(lubridate)
above_98 <-example$birthday >= ymd("19980101")
example$name[above_98]
print(example[c(name,birthday)])
print(example[c("name","birthday")])
example$name[above_98]
source("https://www.dropbox.com/s/16h6ggua6qtydci/exchangeRate.R?dl=1")
exchangeRate_after98 <-
list(
`期間`=exchangeRate$`期間`[pick_after98_01],
`幣別`=exchangeRate$`幣別`[pick_after98_01],
`匯率`=exchangeRate$`匯率`[pick_after98_01]
)
source("https://www.dropbox.com/s/16h6ggua6qtydci/exchangeRate.R?dl=1")
str(exchangeRate)
pick_after98_01 <-exchangeRate$期間 >=ymd("19980101")
pick_after98_01 <-exchangeRate$`期間` >=ymd("19980101")
str(exchangeRate)
pick_after98_01 <-exchangeRate$`期間` >=ymd("19980101")
exchangeRate_after98 <-
list(
`期間`=exchangeRate$`期間`[pick_after98_01],
`幣別`=exchangeRate$`幣別`[pick_after98_01],
`匯率`=exchangeRate$`匯率`[pick_after98_01]
)
```{r}
pick_after98_01 <-exchangeRate$`期間` >=ymd("19980101")
exchangeRate_after98 <-
list(
`期間`=exchangeRate$`期間`[pick_after98_01],
`幣別`=exchangeRate$`幣別`[pick_after98_01],
`匯率`=exchangeRate$`匯率`[pick_after98_01]
)
exchangeRate_after98
str(exchangeRate_after98)
str(example)
above_1000 <-example$allowance >=1000
level(example$allowance)
levels(example$allowance)
class(example$allowance)
levels(example$allowance)
class(example$allowance)
example$allowance <-
ordered(example$allowance)
example$allowance <-
factor(
example$allowance,
levels=c("0-1000", "1001-2000", "2000+"),
ordered = T # 設定為可排序factor
)
pick_allowanceOver1000 <- example$allowance >= "1001-2000"
example$name[pick_allowanceOver1000]
pick_allowanceOver1000 <- example$allowance >= "1001-2000"
example$name[pick_allowanceOver1000]
jsonlite::fromJSON("https://www.dropbox.com/s/3uijub7xheib405/list_victimAges_female.json?dl=1", simplifyDataFrame = F) -> list_victimAges_female
str(list_victimAges_female)
list_victimAges_female$年 <-as.integer(list_victimAges_female$年)
list_victimAges_female$年 <-as.integer("list_victimAges_female$年")
str(list_victimAges_female)
str(list_victimAges_female)
jsonlite::fromJSON("https://www.dropbox.com/s/3uijub7xheib405/list_victimAges_female.json?dl=1", simplifyDataFrame = F) -> list_victimAges_female
str(list_victimAges_female)
list_victimAges_female$`數目` <-as.integer(list_victimAges_female$`數目`)
str(list_victimAges_female)
list_victimAges_female$`性別` <-as.factor(list_victimAges_female$`性別`)
str(list_victimAges_female)
levels(list_victimAges_female$年齡層) -> levels_ages
print(levels_ages)
levels(list_victimAges_female$`年齡層`) -> levels_ages
print(levels_ages)
str(list_victimAges_female)
print(levels_ages)
#將levels順序改成: 不詳，總計，0_5歲，12_17歲，…，70歲以上。
print(list_victimAges_female$年齡層)
#將levels順序改成: 不詳，總計，0_5歲，12_17歲，…，70歲以上。
print(list_victimAges_female$`年齡層`)
#將levels順序改成: 不詳，總計，0_5歲，12_17歲，…，70歲以上。
list_victimAges_female$`年齡層` <-factor(list_victimAges_female$`年齡層`,
levels = c("不詳","0_5歲","12_17歲","18_23歲","24_29歲",
"30_39歲","40_49歲","50_59歲","60_64歲","65_69歲","70歲以上"                            ),
ordered = T)
#將levels順序改成: 不詳，總計，0_5歲，12_17歲，…，70歲以上。
list_victimAges_female$`年齡層` <-factor(list_victimAges_female$`年齡層`,
levels = c("不詳","0_5歲","12_17歲","18_23歲","24_29歲",
"30_39歲","40_49歲","50_59歲","60_64歲","65_69歲","70歲以上"                            ),
ordered = T)
#將levels順序改成: 不詳，總計，0_5歲，12_17歲，…，70歲以上。
list_victimAges_female$`年齡層` <-factor(list_victimAges_female$`年齡層`,
levels = c("不詳","0_5歲","12_17歲","18_23歲","24_29歲",
"30_39歲","40_49歲","50_59歲","60_64歲","65_69歲","70歲以上"                            ),
ordered = T)
str(list_victimAges_female)
sum(list_victimAges_female$數目, na.rm=T)
sum(list_victimAges_female$數目[pick_above30], na.rm = T)
#加na.rm=T是因為再加總的時候 R語言遇到NA就不能計算 因為NA的意思是有資料 但是不知道確切數字是多少
pick_above30 <-list_victimAges_female$年齡層 >=30
sum(list_victimAges_female$`數目`[pick_above30], na.rm = T)
sum(list_victimAges_female$`數目`, na.rm=T)
#加na.rm=T是因為再加總的時候 R語言遇到NA就不能計算 因為NA的意思是有資料 但是不知道確切數字是多少
list_victimAges_female$`年齡層` <-ordered(list_victimAges_female$`年齡層`)
pick_above30 <-list_victimAges_female$`年齡層` >=30
sum(list_victimAges_female$`數目`[pick_above30], na.rm = T)
#加na.rm=T是因為再加總的時候 R語言遇到NA就不能計算 因為NA的意思是有資料 但是不知道確切數字是多少
pick_above30 <-list_victimAges_female$`數目` >=30
sum(list_victimAges_female$`數目`[pick_above30], na.rm = T)
#加na.rm=T是因為再加總的時候 R語言遇到NA就不能計算 因為NA的意思是有資料 但是不知道確切數字是多少
pick_above30 <-list_victimAges_female$`年齡層` >="30_39歲"
sum(list_victimAges_female$`數目`[pick_above30], na.rm = T)
knitr::opts_chunk$set(echo = F, eval=F)
library(jsonlite); library(lubridate); library(readr); library(stringr)
fromJSON("https://data.ntpc.gov.tw/od/data/api/CB6C96C8-D514-42EA-8591-0F4447E79C91?$format=json") -> badEmployers
View(badEmployers)
violatedArticles <-badEmployers$law
violatedArticles <-badEmployers$law
violatedArticles
violatedArticles <-unique(badEmployers$law)
violatedArticles
violatedArticles <-unique(badEmployers$law)
violatedArticles
table_countsByArticle <-table(badEmployers)
?table
table_countsByArticle <-table(badEmployers$docno)
table_countsByArticle
violatedArticles <-unique(badEmployers$law)
violatedArticles
violatedArticles <-unique(badEmployers$law)
violatedArticles
read_csv("https://www.dropbox.com/s/xjzg1iuuws7tcha/table.csv?dl=1") -> table
source("https://www.dropbox.com/s/5oy56om4q0857tt/student10.R?dl=1",encoding = "UTF-8")
View(table)
chinese <-factor(table)
chinese <- factor(table)
chinese <- factor(table$`國文`)
chinese <- factor(table$`國文`,ordered=T)
chinese
chinese <-factor(chinese1[[1]]=16,chinese1[[2]]=15)
chinese <- factor(table$`國文`,ordered=T)
chinese
chinese <- table$級分[chinese_order]+1
chinese <- table$`級分`["chinese_order"]+1
chinese
chinese <- table$`級分`["chinese_order"]
chinese
chinese_order <- factor(table$`國文`,ordered=T)
chinese <- table$`級分`["chinese_order"]
chinese_order <- factor(table$`國文`,ordered=T)
chinese <- factor(table$`國文`,ordered=T)
chinese <- levels(factor(table$`國文`,ordered=T))
chinese
chinese <- factor(table$`國文`,ordered=T)
chinese
chinese <- factor(table$`國文`,ordered=F)
chinese
chinese <- factor(table$`國文`,ordered=T)
chinese
chinese <- factor(table$`國文`,ordered=F)
chinese
chinese <- factor(table$`國文`,ordered=T)
chinese
chinese <- table$`級分`[chinese]
chinese
chinese_order <- factor(table$`國文`,ordered=T)
chinese <- table$`級分`[chinese_order]
chinese
chinese_order <- factor(table$`國文`,ordered=T)
chinese_order
chinese_order <- factor(table$`國文`,ordered=F)
chinese_order
chinese <- table$`級分`[chinese_order]
chinese
chinese_order <- factor(table$`國文`,ordered=T)
chinese_order
chinese
chinese_order <- factor(table$`國文`,ordered=T)
chinese_order
chinese_order <- factor(table$`國文`,ordered=F)
chinese_order
chinese <- table$`級分`[chinese_order]
chinese
chinese_table <- table$`級分`[chinese_order]
chinese <-chinese_table+1
chinese
chinese_order <- levels(factor(table$`國文`,ordered=T))
chinese_order
chinese_table <- table$`級分`[chinese_order]
chinese <-chinese_table+1
chinese
chinese_order <- levels(factor(table$`國文`,ordered=T))
chinese_order
chinese_table
chinese_order
table$`級分`
table$`級分`+1
chinese
chinese <- factor(table$`國文`,ordered=T)
table$`級分` <-table$`級分`+1
chinese
table
chinese <- factor(table$`國文`,ordered=T)
chinese
table
read_csv("https://www.dropbox.com/s/xjzg1iuuws7tcha/table.csv?dl=1") -> table
source("https://www.dropbox.com/s/5oy56om4q0857tt/student10.R?dl=1",encoding = "UTF-8")
class(table$`國文`)
chinese <- factor(table$`國文`,ordered=T)
table$`級分` <-table$`級分`+1
chinese
table
chinese+1
table$`級分`[chinese]
read_csv("https://www.dropbox.com/s/xjzg1iuuws7tcha/table.csv?dl=1") -> table
source("https://www.dropbox.com/s/5oy56om4q0857tt/student10.R?dl=1",encoding = "UTF-8")
chinese <- factor(table$`國文`,ordered=T)
table$`級分`[chinese]
table$`級分`[chinese]+1
table$`級分` <-table$`級分`[chinese]+1
table
chinese <- factor(table$`國文`,ordered=T)
chinese
chinese <- factor(table$`國文`,ordered=F)
chinese
chinese <- factor(table$`國文`,ordered=F)
chinese
chinese <- factor(table$`國文`,ordered=T)
chinese
levels(chinese)
table$`級分`[chinese]
table$`級分` <-table$`級分`[chinese]
table
chinese <- factor(table$`國文`,ordered=T)
read_csv("https://www.dropbox.com/s/xjzg1iuuws7tcha/table.csv?dl=1") -> table
source("https://www.dropbox.com/s/5oy56om4q0857tt/student10.R?dl=1",encoding = "UTF-8")
chinese <- factor(table$`國文`,ordered=T)
chinese
View(table)
table$`級分`[chinese]
chinese <- factor(table$`國文`,ordered=F)
chinese
table$`級分`[chinese]
chinese <- levels(factor(table$`國文`,ordered=F))
chinese
table$`級分`[chinese]
chinese <- levels(factor(table$`國文`,ordered=F))
chinese
chinese <- levels(factor(table$`國文`,ordered=T))
chinese
chinese <- factor(table$`國文`,ordered=T)
table$`級分`[chinese]
chinese <- factor(table$`國文`,ordered=T)
chinese
table$`級分` <-table$`級分`+1
table
View(students10)
students10$姓名[pick_NTPU]
pick_NTPU <-str_detect(students10$`志願`,"北大")
students10$`姓名`[pick_NTPU]
pick_NTPU <-str_detect(students10$`志願`,"北大")
ntpu_namelist <-students10$`姓名`[pick_NTPU]
ntpu_namelist
students10$姓名[pick_ECO]
pick_ECO <-str_detect(students10$`志願`,"北大經濟")
students10$姓名[pick_ECO]
students10pickECO <-students10$`姓名`[pick_ECO]
students10pickECO
above12 <-students10$`國文`>=12
students10$`姓名`[above12]
print(students10$國文)
print(students10$`國文`)
students10$`姓名`[above12]
above26 <-c(students10$`英文`+students10$`數學`)>=26
students10$姓名[above26]
pick_ECO <-str_detect(students10$`志願`,"北大經濟")
students10pickECO <-students10$`姓名`[pick_ECO]
above12 <-students10$`國文`>=12
students10$`姓名`[above12]
above26 <-c(students10$`英文`+students10$`數學`)>=26
students10$姓名[above26]
# ntpu_econtpu_eco
pick_ECO <-str_detect(students10$`志願`,"北大經濟")
students10pickECO <-students10$`姓名`[pick_ECO]
pick_ECO <-str_detect(students10$`志願`,"北大經濟")
students10pickECO <-students10$`姓名`[pick_ECO]
students10pickECO
above12 <-students10$`國文`>=12
students10$`姓名`[above12]
above26 <-c(students10$`英文`+students10$`數學`)>=26
students10$姓名[above26]
# ntpu_econtpu_eco
pick_ECO <-str_detect(students10$`志願`,"北大經濟")
students10pickECO <-students10$`姓名`[pick_ECO]
students10pickECO
above12 <-students10$`國文`>=12
students10$`姓名`[above12]
above26 <-c(students10$`英文`+students10$`數學`)>=26
students10$`姓名`[above26]
# ntpu_econtpu_eco
students10$姓名[pass]
pass <-c(above12,above26)
students10$`姓名`[pass]
pick_ECO<-str_detect(students10$`志願`,"北大經濟")
students10pickECO <-students10$`姓名`[pick_ECO]
students10pickECO
above12 <-students10$`國文`>=12
pass1 <-students10$`姓名`[above12]
pass1[above26]
pass1
students10pickECO
pick_ECO<-str_detect(students10$`志願`,"北大經濟")
students10pickECO <-students10$`姓名`[pick_ECO]
students10pickECO
above12 <-students10$`國文`>=12
students10$`姓名`[above12]
above26 <-c(students10$`英文`+students10$`數學`)>=26
students10$`姓名`[above26]
# ntpu_econtpu_eco
above12 <-students10$`國文`[students10pickECO]
above12
students10pickECO
students10$國文
# ntpu_econtpu_eco
students10$`國文`
students10$`國文`>=12
students10$`姓名`[students10$`國文`>=12]
# ntpu_econtpu_eco
typeof(logical)
typeof(students10$`姓名`[students10$`國文`>=12])
students10$`姓名`[students10$`國文`>=12]
students10$`姓名`[students10$`數學`+students10$`英文`>=26]
students10$`姓名`[c(students10$`數學`+students10$`英文`)>=26]
students10$`姓名`[students10$`國文`>=12]
students10$`姓名`[c(students10$`數學`+students10$`英文`)>=26]
students10$`姓名`[students10$`國文`>=12]
students10$`姓名`[c(students10$`數學`+students10$`英文`)>=26]
# ntpu_econtpu_eco
c(above12,above26)
c(above12,above26)
above12
above26
above12 <-students10$`國文`>=12
above12
above12 <-students10$`國文`>=12
above12
above26
c(above12,above26)
# ntpu_econtpu_eco
above26
above12
above26
# ntpu_econtpu_eco
above26==above12
above12
above26
above26==above12
# ntpu_econtpu_eco
above26%in%above12
above26==above12
bothpass <-above26==above12
students10$姓名[bothpass]
above12
above12
above26
bothpass <-above26==above12
students10$`姓名`[bothpass]
# ntpu_econtpu_eco
above12
above26
bothpass <-above26==above12
bothpass
students10$`姓名`[bothpass]
# ntpu_econtpu_eco
above12 <-students10$`國文`>=12
above26 <-(students10$`英文`+students10$`數學`)>=26
bothpass <-above26==above12
bothpass
students10$`姓名`[bothpass]
above12 <-students10$`國文`>=12
above26 <-(students10$`英文`+students10$`數學`)>=26
bothpass <-above26==above12
students10$`姓名`[above12]
students10$`姓名`[above26]
students10$`姓名`[bothpass]
# ntpu_econtpu_eco
print(students10["姓名","國文"])
str(students10[c("姓名","國文")])
str(students10[["姓名"])
str(students10[["姓名"]])
View(students10)
str(students10)
above12 <-students10$`國文`>=12
above26 <-(students10$`英文`+students10$`數學`)>=26
bothpass <-above26==above12
students10$`姓名`[above12]
students10$`姓名`[above26]
students10$`姓名`[bothpass]
read_csv("https://www.dropbox.com/s/xjzg1iuuws7tcha/table.csv?dl=1") -> table
source("https://www.dropbox.com/s/5oy56om4q0857tt/student10.R?dl=1",encoding = "UTF-8")
chinese <- factor(table$`國文`,ordered=T)
chinese
table$`級分` <-table$`級分`+1
table
pick_NTPU <-str_detect(students10$`志願`,"北大")
ntpu_namelist <-students10$`姓名`[pick_NTPU]
ntpu_namelist
above12 <-students10$`國文`>=12
students10$`姓名`[above12]
# ntpu_econtpu_eco
knitr::opts_chunk$set(echo = F, eval=F)
library(jsonlite); library(lubridate); library(readr); library(stringr)
fromJSON("https://data.ntpc.gov.tw/od/data/api/CB6C96C8-D514-42EA-8591-0F4447E79C91?$format=json") -> badEmployers
violatedArticles <-unique(badEmployers$law)
violatedArticles
str_detect(badEmployers,violatedArticles[[1]])
str_detect(badEmployers,"勞動基準法第30條第5項")
sum(str_detect(badEmployers,"勞動基準法第30條第5項"))
str_detect(badEmployers$law,"勞動基準法第30條第5項")
str_detect(badEmployers$law,"勞動基準法第30條第5項")=T
View(badEmployers)
pick_NTPU <-str_detect(students10$`志願`,"北大")
ntpu_namelist <-students10$`姓名`[pick_NTPU]
ntpu_namelist
pick_NTPU
badEmployers$name[str_detect(badEmployers$law,"勞動基準法第30條第5項")]
sum(str_detect(badEmployers$law,"勞動基準法第30條第5項")])
sum(str_detect(badEmployers$law,"勞動基準法第30條第5項"))
sum(str_detect(badEmployers$law,"勞動基準法第30條第5項"))
# table_countsByArticle
str_detect(badEmployers$law,"勞動基準法第30條第5項")
as.integer(str_detect(badEmployers$law,"勞動基準法第30條第5項"))
sum(as.integer(str_detect(badEmployers$law,"勞動基準法第30條第5項")))
# table_countsByArticle
badEmployers$name[str_detect(badEmployers$law,"勞動基準法第30條第5項")]
# table_countsByArticle
str_detect(badEmployers$law,"勞動基準法第30條第5項")==T
c(str_detect(badEmployers$law,"勞動基準法第30條第5項"))==T
c(str_detect(badEmployers$law,"勞動基準法第30條第5項"))=="T"
badEmployers$law=="勞動基準法第30條第5項"
sum(badEmployers$law=="勞動基準法第30條第5項")
sum(badEmployers$law=="勞動基準法第30條第5項",na.rm=T)
sum(badEmployers$law=="勞動基準法第30條第5項",na.rm=T)
# table_countsByArticle
sum(badEmployers$law=="勞動基準法第36條",na.rm=T)
sum(badEmployers$law=="勞動基準法第30條第5項",na.rm=T)
sum(badEmployers$law=="勞動基準法第36條",na.rm=T)
# table_countsByArticle
table(sum(badEmployers$law=="勞動基準法第30條第5項",na.rm=T))
table(name="勞動基準法第30條第5項",
sum(badEmployers$law=="勞動基準法第30條第5項",na.rm=T))
table(name="勞動基準法第30條第5項",
`數目`=sum(badEmployers$law=="勞動基準法第30條第5項",na.rm=T))
table(name="勞動基準法第30條第5項")
sum(badEmployers$law=="勞動基準法第36條",na.rm=T)
sum(badEmployers$law)
table(name="勞動基準法第30條第5項")
sum(badEmployers$law=="勞動基準法第36條",na.rm=T)
# table_countsByArticle
table(name="勞動基準法第30條第5項",259)
table(name="勞動基準法第30條第5項",
count=259)
table(name="勞動基準法第30條第5項",
count="259")
table(name="勞動基準法第30條第5項",
count="259",
apple=3)
sum(badEmployers$law=="勞動基準法第36條",na.rm=T)
sum(badEmployers$law=="勞動基準法第36條",na.rm=T)# table_countsByArticle
sum(badEmployers$law==violatedArticles[[1]],na.rm=T)
table(mame=c("勞動基準法第30條第5項" ,sum(badEmployers$law==violatedArticles[[1]],na.rm=T))
)
# table_countsByArticle
table(mame="勞動基準法第30條第5項" ,sum(badEmployers$law==violatedArticles[[1]],na.rm=T))
# table_countsByArticle
table(mame="勞動基準法第30條第5項",
`數目`=sum(badEmployers$law==violatedArticles[[1]],na.rm=T))
# table_countsByArticle
table1 <-table(mame="勞動基準法第30條第5項",
`數目`=sum(badEmployers$law==violatedArticles[[1]],na.rm=T))
# table_countsByArticle
table1
str(table)
table1 <-table(mame="勞動基準法第30條第5項",     `數目`=sum(badEmployers$law==violatedArticles[[1]],na.rm=T))
# table_countsByArticle
table1 <-table(mame=violatedArticles,     `數目`=sum(badEmployers$law==violatedArticles[[1]],na.rm=T))
table1
table1 <-table(mame=violatedArticles,     `數目`=sum(badEmployers$law==violatedArticles[[1]],na.rm=T))
table1 <-table(mame=violatedArticles,     `數目`=sum(badEmployers$law==violatedArticles[[1]],na.rm=T))
table1 <-table(mame="violatedArticles",     `數目`=sum(badEmployers$law==violatedArticles[[1]],na.rm=T))
table1
badEmployers$dt==01
sum(badEmployers$dt==01)
